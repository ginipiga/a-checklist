# 🤖 AI 기능 사용 가이드

리스크 관리 시스템에 추가된 새로운 AI 기능을 소개합니다!

## 📊 새로 추가된 AI 기능

### 1. 진행 상황 자동 요약 (Progress Analysis)
### 2. 우선순위 자동 정렬 (Priority Sorting)

---

## 🎯 1. 진행 상황 자동 요약

### 기능 설명
AI가 프로젝트 전체를 분석하여 진행 상황을 요약하고 인사이트를 제공합니다.

### 사용 방법
1. 프로그램 상단 툴바에서 **"📊 진행 상황 분석"** 버튼 클릭
2. AI가 분석을 완료할 때까지 대기 (몇 초~몇 분)
3. 분석 결과 다이얼로그에서 보고서 확인

### 분석 내용
- ✅ **전체 통계**: 작업 수, 완료율, 진행률
- 📅 **마감일 분석**: 지연된 작업, 임박한 마감일
- 🎯 **우선순위별 현황**: Critical, High, Medium, Low 작업 분포
- 🤖 **AI 인사이트**:
  - 잘 진행되고 있는 점
  - 우려 사항
  - 개선 제안
  - 집중해야 할 영역

### AI 모드별 차이
| 모드 | 인사이트 품질 | 속도 | 비용 |
|------|-------------|------|------|
| **none** (기본) | 기본 통계 | 빠름 | 무료 |
| **ollama** | 상세한 분석 | 보통 | 무료 |
| **openai** | 매우 정확한 분석 | 빠름 | 유료 |

### 예시 보고서

```markdown
# 📊 프로젝트 진행 상황 보고서

**분석 일시**: 2025-10-28 14:30:00

## 전체 통계
- **전체 작업**: 15개
- **완료된 작업**: 8개
- **전체 진행률**: 65.3%
- **체크리스트**: 45/72 (62.5%)

## 🤖 AI 분석 요약
프로젝트가 중반을 넘어 순조롭게 진행되고 있습니다.
핵심 작업들이 완료되었으나, 일부 긴급 작업의 지연이 우려됩니다.

### ✅ 잘 진행되고 있는 점
- 주요 기능 개발이 80% 이상 완료됨
- 팀원들의 참여도가 높음
- 문서화가 잘 진행되고 있음

### ⚠️ 우려 사항
- 3개의 작업이 마감일을 초과했습니다
- 긴급(Critical) 작업 2개가 미완료 상태입니다

### 💡 개선 제안
1. 지연된 작업의 우선순위를 재조정하세요
2. 긴급(Critical) 작업에 먼저 집중하세요
3. 리소스를 재배분하여 병목을 해소하세요

### 🎯 집중 영역
- 지연된 작업 복구
- 긴급 작업 완료
- 임박한 작업 완료

## ⏰ 지연된 작업
- **데이터베이스 마이그레이션**: 5일 지연, 진행률 45.0%
- **API 통합 테스트**: 2일 지연, 진행률 60.0%

## 📅 임박한 마감일
- **배포 준비**: 2일 남음, 진행률 80.0%
- **사용자 교육 자료**: 5일 남음, 진행률 30.0%
```

---

## 🎯 2. 우선순위 자동 정렬

### 기능 설명
AI가 작업의 긴급도, 중요도, 의존성을 분석하여 최적의 작업 순서를 제안합니다.

### 사용 방법
1. 프로그램 상단 툴바에서 **"🎯 우선순위 정렬"** 버튼 클릭
2. AI가 분석을 완료할 때까지 대기
3. 분석 보고서 확인
4. 정렬 적용 여부 선택

### 우선순위 분석 기준

#### 1. 긴급도 (Urgency) - 40%
- 마감일까지 남은 시간
- 이미 지난 작업: 최고 긴급도
- D-1: 95점
- D-3: 85점
- D-7: 70점
- D-14: 50점

#### 2. 중요도 (Importance) - 30%
- 체크리스트 항목의 우선순위
- Critical 작업: 100점
- High 작업: 75점
- Medium 작업: 50점
- Low 작업: 25점

#### 3. 의존성 (Dependency) - 20%
- 하위 작업 개수
- 다른 작업에 영향을 주는 정도

#### 4. 미완료율 - 10%
- 빨리 끝낼 수 있는 작업 우선

### 우선순위 레벨

| 레벨 | 점수 | 아이콘 | 의미 |
|------|------|--------|------|
| **Critical** | 80-100 | 🔴 | 즉시 처리 필요 |
| **High** | 60-79 | 🟠 | 높은 우선순위 |
| **Medium** | 40-59 | 🟡 | 보통 우선순위 |
| **Low** | 0-39 | 🟢 | 낮은 우선순위 |

### AI 모드별 차이

- **none (기본)**: 수치 기반 자동 정렬
- **ollama**: AI가 맥락을 고려하여 정렬 조정
- **openai**: 더 정교한 우선순위 결정

### 예시 보고서

```markdown
# 🎯 우선순위 분석 보고서

**분석 일시**: 2025-10-28 14:35:00

## 추천 작업 순서

### 1. 🔴 데이터베이스 백업 시스템
- **우선순위 레벨**: Critical
- **우선순위 점수**: 92.5/100
- **완료율**: 40.0%
- **긴급도**: 100.0/100
- **중요도**: 85.0/100
- **마감일**: 2025-10-25 (3일 지연)
- **주요 이유**: 마감일 임박 (2025-10-25)
- **AI 분석**: 마감일이 지났고 시스템 안정성에 중요한 작업입니다

### 2. 🟠 API 문서화
- **우선순위 레벨**: High
- **우선순위 점수**: 68.3/100
- **완료율**: 55.0%
- **긴급도**: 70.0/100
- **중요도**: 75.0/100
- **마감일**: 2025-11-02
- **주요 이유**: 7개의 하위 작업 포함

### 3. 🟡 UI 개선
- **우선순위 레벨**: Medium
- **우선순위 점수**: 45.0/100
- **완료율**: 20.0%
```

---

## 🚀 빠른 시작

### 방법 1: AI 없이 사용 (기본)
```bash
python src/main.py
```
- 기본 통계 및 수치 기반 정렬만 제공
- 가장 빠름
- 추가 설정 불필요

### 방법 2: Ollama 사용 (무료 + 로컬)
```bash
# 1. Ollama 설치
# https://ollama.com/download

# 2. 모델 다운로드
ollama pull qwen2.5:7b

# 3. 환경변수 설정 및 실행 (Windows)
set LLM_MODE=ollama
python src/main.py

# 또는 배치 파일 사용
실행_AI_Ollama.bat
```

### 방법 3: OpenAI 사용 (유료 + 정확)
```bash
# 1. OpenAI API 키 발급
# https://platform.openai.com

# 2. 환경변수 설정 및 실행
set OPENAI_API_KEY=sk-your-api-key-here
set LLM_MODE=openai
python src/main.py

# 또는 배치 파일 사용
실행_AI_OpenAI.bat
```

---

## 💡 사용 팁

### 1. 정기적인 진행 상황 분석
- 주간 회의 전에 진행 상황 분석 실행
- 보고서를 클립보드에 복사하여 공유
- 지연 작업과 임박한 마감일 모니터링

### 2. 효과적인 우선순위 관리
- 새로운 작업 추가 시 우선순위 정렬 실행
- AI 제안을 참고하되, 실제 상황에 맞게 조정
- 정렬 후 변경사항 저장 필수

### 3. 마감일 설정
- 각 토글에 마감일 설정 (YYYY-MM-DD 형식)
- 마감일이 있는 작업은 자동으로 긴급도 계산됨

### 4. 체크리스트 우선순위
- 중요한 체크리스트 항목에 우선순위 설정
- Critical/High 항목이 많으면 해당 토글의 중요도 상승

---

## 🔧 기술 세부사항

### 파일 구조
```
src/
├── utils/
│   ├── progress_analyzer.py      # 진행 상황 분석기
│   ├── priority_analyzer.py      # 우선순위 분석기
│   ├── llm_analyzer.py           # OpenAI 연동
│   └── local_llm_analyzer.py     # Ollama 연동
├── components/
│   └── analysis_dialog.py        # 분석 결과 UI
└── main.py                        # 메인 UI (버튼 추가됨)
```

### 의존성
기존 의존성 외 추가 필요 없음:
- PyQt5 (이미 설치됨)
- openai (LLM_MODE=openai 사용 시)
- requests (Ollama 사용 시)

---

## 🆘 문제 해결

### "분석할 프로젝트가 없습니다"
→ 최소 1개 이상의 토글을 추가하세요

### "Ollama 연결 실패"
```bash
# Ollama 서버 실행 확인
ollama serve

# 브라우저에서 확인
http://localhost:11434
```

### "OpenAI API 오류"
- API 키가 올바른지 확인
- 결제 수단이 등록되어 있는지 확인
- API 사용량 제한 확인

### 분석이 느림
- Ollama: GPU 사용 확인, 또는 더 작은 모델 사용
- OpenAI: 인터넷 연결 확인

---

## 📊 성능 비교

| 기능 | AI 없음 | Ollama | OpenAI |
|------|---------|--------|--------|
| 진행 상황 분석 | ✅ 기본 통계 | ✅ 상세 분석 | ✅ 매우 상세 |
| 우선순위 정렬 | ✅ 수치 기반 | ✅ AI 조정 | ✅ 정교한 분석 |
| 인사이트 품질 | ⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| 속도 | 즉시 | 5-30초 | 2-5초 |
| 비용 | 무료 | 무료 | 유료 |
| 오프라인 | ✅ | ✅ | ❌ |
| 데이터 보안 | ✅ | ✅ | ⚠️ |

---

## 🎓 학습 자료

- [진행 상황 분석기 소스 코드](src/utils/progress_analyzer.py)
- [우선순위 분석기 소스 코드](src/utils/priority_analyzer.py)
- [Ollama 사용 가이드](README_OLLAMA.md)
- [OpenAI API 문서](https://platform.openai.com/docs)

---

## 📝 피드백

새로운 AI 기능에 대한 피드백을 환영합니다!
- 버그 리포트
- 기능 제안
- 사용 후기

**즐거운 프로젝트 관리 되세요! 🎉**
